## **‚öôÔ∏è –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OpenSSH –¥–ª—è Windows**

–≠—Ç–æ—Ç PowerShell-—Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É OpenSSH-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Windows-—Å–∏—Å—Ç–µ–º–∞—Ö —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ –º–µ—Ä–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## **üîí –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

1. **üë§ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞**:

   -  –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `special_user_ssh`

   -  üï∂Ô∏è –°–∫—Ä—ã—Ç–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞

   -  üîê –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è (8+ —Å–∏–º–≤–æ–ª–æ–≤, —Ä–∞–∑–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã, —Ü–∏—Ñ—Ä—ã, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)

2. **üñ•Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenSSH-—Å–µ—Ä–≤–µ—Ä–∞**:

   -  üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Windows Capabilities

   -  üîÑ –°–º–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ (12345 –≤–º–µ—Å—Ç–æ 22)

   -  üåê –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ IP-–∞–¥—Ä–µ—Å–∞–º

3. **üî• –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞**:

   -  ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞

   -  ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö IP

## **üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

-  üíª Windows 10/11 –∏–ª–∏ Windows Server 2016+

-  üõ°Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

-  üåç –î–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## **üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∫–∞–∫ `sshd_config_ps.ps1`

2. **‚úèÔ∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞**:


```powershell
$admin_username = "special_user_ssh"  # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$ssh_port = 12345                   # –ü–æ—Ä—Ç SSH
$allowed_ips = @(                   # –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ IP/–ø–æ–¥—Å–µ—Ç–∏
    "10.11.12.13",
    "192.168.88.99",
    "172.16.32.25"
)
```

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

**üîß –ò–∑ –∫–æ–Ω—Å–æ–ª–∏ PowerShell**


```powershell
Set-ExecutionPolicy Bypass -Scope Process -Force
.\sshd_config_ps.ps1
```

**‚å®Ô∏è –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ CMD**


```cmd
powershell.exe -ExecutionPolicy Bypass -File "C:\Path\To\sshd_config_ps.ps1"
```

## **‚ö†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã**

### **üîë –í–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è**

1. **üë§ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–≤–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**:

   -  –°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

   -  üö´ –ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ

2. **üìù –ü—Ä—è–º–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –≤ —Å–∫—Ä–∏–ø—Ç–µ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)**:

   -  –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É `$plain_password`

   -  ‚ö†Ô∏è –ü–∞—Ä–æ–ª—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ

   -  **üî¥ –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å—Ä–µ–¥**

### **üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

1. üë• –°–æ–∑–¥–∞–Ω–∏–µ/–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ OpenSSH Server

3. ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH (`sshd_config`)

4. üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞ Windows

5. üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ SSH-—Å–ª—É–∂–±—ã

## **‚ùó –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**

1. **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è**:

   -  –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `$plain_password` –ø–∞—Ä–æ–ª—å –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ

   -  üí° –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤–≤–æ–¥

2. **üåê –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ IP**:

   -  –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ IPv4

   -  –î–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö IP –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –º–∞—Å–∫–∞ /32

   -  –î–ª—è –ø–æ–¥—Å–µ—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CIDR-–Ω–æ—Ç–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, `192.168.1.0/24`)

3. **‚ôªÔ∏è –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫**:

   -  –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞ `OpenSSH_CustomPort` –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã

   -  –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ OpenSSH –æ—Å—Ç–∞–Ω–µ—Ç—Å—è, –Ω–æ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑-–∑–∞ —Å–º–µ–Ω—ã –ø–æ—Ä—Ç–∞

## **üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

1. **üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–ª—É–∂–±—ã**:


```powershell
Get-Service sshd | Select-Object Name, Status
```

1. **üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞**:


```bash
ssh -p 12345 special_user_ssh@<server_ip>
```
